package Classes;

import java.sql.*;

public class ProdutoDAO
{
	private Connection DataBase;
	
	public ProdutoDAO(Connection DataBase)
	{
		this.DataBase = DataBase;
	}
	
	public boolean Insert(Produto P)
	{
		try
		{
			String Sql = "Insert Into Produtos(Nome, Descricao, Estoque, Preco) Values (?,?,?,?)";
			PreparedStatement SqlStatement = DataBase.prepareStatement(Sql);
			SqlStatement.setString(1, P.Nome);
			SqlStatement.setString(2, P.Descricao);
			SqlStatement.setInt(3, P.Estoque);
			SqlStatement.setFloat(4, (float) P.Preco);
			int Lines = SqlStatement.executeUpdate();
			System.out.println("Comandos concluidos com êxito. Linhas afetadas: " + Lines);
			SqlStatement.close();
		}
		catch(Exception E)
		{
			System.out.println("Erro ao adicionar produto ao banco de dados.");
			E.printStackTrace();
			return false;
		}
		return true;
	}
	public boolean Update(int IDProduto, String Nome, String Descricao, int Estoque, double Preco)
	{
		try
		{
			String Sql = "Update Produtos Set Nome = ?, Descricao = ?, Estoque = ?, Preco = ? Where IDProduto = ?";
			PreparedStatement SqlStatement = DataBase.prepareStatement(Sql);
			SqlStatement.setString(1, Nome);
			SqlStatement.setString(2, Descricao);
			SqlStatement.setInt(3, Estoque);
			SqlStatement.setFloat(4, (float) Preco);
			SqlStatement.setInt(5, IDProduto);
			int Lines = SqlStatement.executeUpdate();
			System.out.println("Comandos concluidos com êxito. Linhas afetadas: " + Lines);
			SqlStatement.close();
		}
		catch(Exception E)
		{
			System.out.println("Erro ao adicionar produto ao banco de dados.");
			E.printStackTrace();
			return false;
		}
		return true;
	}
}